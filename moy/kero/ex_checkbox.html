
<!DOCTYPE html>
<html lang="en">
    <head>
        <title>复选框 — moy</title>
        <meta charset="utf-8">
        <meta name="description" content="moy介绍">
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

        <meta property="og:type" content="article">
        <meta property="og:title" content="复选框 — moy">
        <meta property="og:description" content="moy介绍">
        <meta property="og:image" content="https://tinper.org//tinper-docs/images/logo.png">

        <meta name="twitter:card" content="summary">
        <meta name="twitter:title" content="复选框 — moy">
        <meta name="twitter:description" content="moy介绍">
        <meta name="twitter:image" content="https://tinper.org/images/logo.png">

        <link rel="icon" href="/tinper-docs/images/logo-x.png" type="image/x-icon">

        <link rel="stylesheet" href="//design.yonyoucloud.com/static/uui/latest/css/u.css">
        <link rel="stylesheet" href="//design.yonyoucloud.com/static/uui/latest/css/grid.css">
        <link rel="stylesheet" href="//design.yonyoucloud.com/static/uui/latest/css/tree.css">
        <script src="//design.yonyoucloud.com/static/jquery/jquery-1.9.1.min.js"></script>
        <script src="//design.yonyoucloud.com/static/knockout/knockout-3.2.0.debug.js"></script>
        <script src="//design.yonyoucloud.com/static/raty/rating.js"></script>
        <script src="//design.yonyoucloud.com/static/uui/latest/js/u.js"></script>
        <script src="//design.yonyoucloud.com/static/uui/latest/js/u-grid.js"></script>
        <script src="//design.yonyoucloud.com/static/uui/latest/js/u-tree.js"></script>

        <!-- main page styles -->
        <link rel="stylesheet" href="/tinper-docs/css/page.css">

        <script>window.PAGE_TYPE = "moy"</script>
    </head>
    <body class="docs">        <div id="mobile-bar" >
            <a class="menu-button"></a>
            <a class="logo" href="/"></a>
        </div>
        <div id="header">
  <a id="logo" href="http://tinper.org/">
    <img src="/tinper-docs/images/logo.png">
  </a>
  <ul id="nav">
    <li>
  <form id="search-form">
    <input type="text" id="search-query-input" class="search-query st-default-search-input">
  </form>
</li>
<li><a href="/tinper-docs/moy/" class="nav-link current">集成开发框架moy</a></li>
<li><a href="/tinper-docs/neoui/" class="nav-link">ui框架neoui</a></li>
<li><a href="/tinper-docs/uba/" class="nav-link">开发工具uba</a></li>
<li><a target="_blank" href="http://bee.tinper.org/" class="nav-link">react组件库bee</a></li>
<li><a href="/tinper-docs/sparrow/" class="nav-link">工具库sparrow</a></li>

  </ul>
</div>

        
            <div id="main" class="fix-sidebar">
                
                    
    <div class="sidebar">
    <ul class="main-menu">
        <li>
  <form id="search-form">
    <input type="text" id="search-query-input" class="search-query st-default-search-input">
  </form>
</li>
<li><a href="/tinper-docs/moy/" class="nav-link current">集成开发框架moy</a></li>
<li><a href="/tinper-docs/neoui/" class="nav-link">ui框架neoui</a></li>
<li><a href="/tinper-docs/uba/" class="nav-link">开发工具uba</a></li>
<li><a target="_blank" href="http://bee.tinper.org/" class="nav-link">react组件库bee</a></li>
<li><a href="/tinper-docs/sparrow/" class="nav-link">工具库sparrow</a></li>

    </ul>
    <div class="list">
        <h2>
            Moy
        </h2>
        <ul class="menu-root">
            
                
                
                    
                    
                    
                    
                    
                    
                
                <li>
                    <a href="/tinper-docs/moy/index.html" class="sidebar-link">快速入门</a>
                </li>
            
                
                
                    
                      <li><h3>Kero进阶</h3></li>
                    
                    
                    
                    
                    
                    
                
                <li>
                    <a href="/tinper-docs/moy/kero-begin.html" class="sidebar-link">起步</a>
                </li>
            
                
                
                    
                    
                    
                    
                    
                    
                
                <li>
                    <a href="/tinper-docs/moy/kero-data.html" class="sidebar-link">数据模型</a>
                </li>
            
                
                
                    
                    
                    
                    
                    
                    
                
                <li>
                    <a href="/tinper-docs/moy/kero-model.html" class="sidebar-link">控件模型</a>
                </li>
            
                
                
                    
                    
                    
                    
                    
                    
                
                <li>
                    <a href="/tinper-docs/moy/kero-basic.html" class="sidebar-link">典型场景开发</a>
                </li>
            
                
                
                    
                    
                    
                    
                    
                    
                
                <li>
                    <a href="/tinper-docs/moy/kero-api.html" class="sidebar-link">keroAPI</a>
                </li>
            
                
                
                    
                    
                    
                    
                      <li><h3>控件模型</h3></li>
                    
                    
                    
                
                <li>
                    <a href="/tinper-docs/moy/kero/cascader.html" class="sidebar-link">级联组件</a>
                </li>
            
                
                
                    
                    
                    
                    
                    
                    
                
                <li>
                    <a href="/tinper-docs/moy/kero/clockpicker.html" class="sidebar-link">表盘选择</a>
                </li>
            
                
                
                    
                    
                    
                    
                    
                    
                
                <li>
                    <a href="/tinper-docs/moy/kero/currency_ex.html" class="sidebar-link">输入转换</a>
                </li>
            
                
                
                    
                    
                    
                    
                    
                    
                
                <li>
                    <a href="/tinper-docs/moy/kero/ex_checkbox.html" class="sidebar-link current">复选框</a>
                </li>
            
                
                
                    
                    
                    
                    
                    
                    
                
                <li>
                    <a href="/tinper-docs/moy/kero/ex_datetime.html" class="sidebar-link">日期时间选择</a>
                </li>
            
                
                
                    
                    
                    
                    
                    
                    
                
                <li>
                    <a href="/tinper-docs/moy/kero/combobox_ex.html" class="sidebar-link">下拉框</a>
                </li>
            
                
                
                    
                    
                    
                    
                    
                    
                
                <li>
                    <a href="/tinper-docs/moy/kero/ex_month.html" class="sidebar-link">月份选择</a>
                </li>
            
                
                
                    
                    
                    
                    
                    
                    
                
                <li>
                    <a href="/tinper-docs/moy/kero/ex_monthdate.html" class="sidebar-link">月日选择</a>
                </li>
            
                
                
                    
                    
                    
                    
                    
                    
                
                <li>
                    <a href="/tinper-docs/moy/kero/ex_pagination.html" class="sidebar-link">分页</a>
                </li>
            
                
                
                    
                    
                    
                    
                    
                    
                
                <li>
                    <a href="/tinper-docs/moy/kero/ex_percent.html" class="sidebar-link">数值百分比</a>
                </li>
            
                
                
                    
                    
                    
                    
                    
                    
                
                <li>
                    <a href="/tinper-docs/moy/kero/ex_progress.html" class="sidebar-link">进度条</a>
                </li>
            
                
                
                    
                    
                    
                    
                    
                    
                
                <li>
                    <a href="/tinper-docs/moy/kero/ex_radio.html" class="sidebar-link">单选框</a>
                </li>
            
                
                
                    
                    
                    
                    
                    
                    
                
                <li>
                    <a href="/tinper-docs/moy/kero/ex_switch.html" class="sidebar-link">开关</a>
                </li>
            
                
                
                    
                    
                    
                    
                    
                    
                
                <li>
                    <a href="/tinper-docs/moy/kero/ex_time.html" class="sidebar-link">时间选择</a>
                </li>
            
                
                
                    
                    
                    
                    
                    
                    
                
                <li>
                    <a href="/tinper-docs/moy/kero/ex_validate.html" class="sidebar-link">自定义验证</a>
                </li>
            
                
                
                    
                    
                    
                    
                    
                    
                
                <li>
                    <a href="/tinper-docs/moy/kero/ex_year.html" class="sidebar-link">年份选择</a>
                </li>
            
                
                
                    
                    
                    
                    
                    
                    
                
                <li>
                    <a href="/tinper-docs/moy/kero/ex_yearmonth.html" class="sidebar-link">年月选择</a>
                </li>
            
                
                
                    
                    
                    
                    
                    
                    
                
                <li>
                    <a href="/tinper-docs/moy/kero/textarea.html" class="sidebar-link">多行文本输入控件</a>
                </li>
            
                
                
                    
                    
                    
                    
                    
                    
                
                <li>
                    <a href="/tinper-docs/moy/kero/textfield.html" class="sidebar-link">文本输入框</a>
                </li>
            
                
                
                    
                    
                    
                    
                    
                    
                
                <li>
                    <a href="/tinper-docs/moy/kero/tree.html" class="sidebar-link">树</a>
                </li>
            
                
                
                    
                    
                      <li><h3>表格</h3></li>
                    
                    
                    
                    
                    
                
                <li>
                    <a href="/tinper-docs/moy/grid_index.html" class="sidebar-link">grid详解</a>
                </li>
            
                
                
                    
                    
                    
                    
                    
                    
                
                <li>
                    <a href="/tinper-docs/moy/grid-api.html" class="sidebar-link">gridAPI</a>
                </li>
            
                
                
                    
                    
                    
                    
                    
                    
                      <li><h3>前端请求</h3></li>
                    
                
                <li>
                    <a href="/tinper-docs/moy/kero-fetch.html" class="sidebar-link">前端请求方法</a>
                </li>
            
                
                
                    
                    
                    
                    
                    
                      <li><h3>前端解决方案</h3></li>
                    
                    
                
                <li>
                    <a href="/tinper-docs/moy/IE.html" class="sidebar-link">IE8兼容方案</a>
                </li>
            
        </ul>
    </div>
</div>


<div class="content moy with-sidebar ">
    
      <h1>复选框</h1>
    
    <h4 id="复选框"><a href="#复选框" class="headerlink" title="复选框"></a>复选框</h4><p>本例实现NeoUI组件checkbox数据绑定。</p>
<p><a href="http://tinper.org/webide/#/demos/kero/checkbox">试一试</a></p>
<p><strong>注意</strong>：</p>
<p>1、datasource对应的对象需要在数据模型viewModel中定义。</p>
<p>2、checkout选中的真实值会绑定到dataTable对应的字段上</p>
<h4 id="API"><a href="#API" class="headerlink" title="API"></a>API</h4><h4 id="u-meta-属性"><a href="#u-meta-属性" class="headerlink" title="u-meta 属性"></a>u-meta 属性</h4><ul>
<li><p>type：<code>u-checkbox</code></p>
</li>
<li><p>datasource</p>
<ul>
<li>类型： Array</li>
<li>说明：设置复选框的数据源，具体数组内容需要在viewmodel中定义，数组中的每个对象需要有value，name字段。其中name为复选框的显示值，value为复选框的真实值。</li>
<li><p>用法：</p>
  <figure class="highlight plain"><table><tr><td class="code"><pre><div class="line"></div><div class="line">checkboxData: [&#123;value: &apos;test1&apos;, name: &apos;产品一&apos;&#125;, &#123;value: &apos;test2&apos;, name: &apos;产品二&apos;&#125;]</div></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>unCheckedValue</p>
<ul>
<li>类型： String</li>
<li>说明：复选框未选中的值</li>
</ul>
</li>
<li>checkedValue<ul>
<li>类型：　String</li>
<li>说明：复选框选中的值，当行对象中的字段值与checkedValue值相同时，复选框就会选中，否则为未选中状态。</li>
</ul>
</li>
<li>hasOther<ul>
<li>类型：Boolean</li>
<li>说明：是否含有其他复选框，当hasOther为true时，复选框会自动多一个显示值为“其他”的复选框和一个输入框，输入框默认是不可输入的，当复选框选中时，输入框可输入，存放该复选框的真实值。默认为false。</li>
</ul>
</li>
</ul>
<p>u-meta基础api请参考<a href="http://docs.tinper.org/moy/kero-model.html#Type类型" target="_blank" rel="external">这里</a></p>
<h4 id="CheckboxAdapter对象"><a href="#CheckboxAdapter对象" class="headerlink" title="CheckboxAdapter对象"></a>CheckboxAdapter对象</h4><ul>
<li>类型：<code>Object</code></li>
<li>说明： 获取checkboxAdapter对象，可以通过此对象的一些方法来改变复选框的效果状态。下面方法均是在此对象基础上调用的。</li>
<li>用法：<code>app.getComp(&#39;控件id值&#39;)；</code></li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line"></div><div class="line">&lt;div u-meta=&apos;&#123;&quot;id&quot;:&quot;c1&quot;,&quot;type&quot;:&quot;u-checkbox&quot;,&quot;data&quot;:&quot;dt1&quot;,&quot;field&quot;:&quot;f1&quot;,&quot;datasource&quot;:&quot;checkboxData&quot;&#125;&apos;&gt;</div><div class="line">    &lt;label class=&quot;u-checkbox&quot;&gt;</div><div class="line">        &lt;input type=&quot;checkbox&quot; class=&quot;u-checkbox-input&quot;&gt;</div><div class="line">        &lt;span class=&quot;u-checkbox-label&quot; data-role=&quot;name&quot;&gt;&lt;/span&gt;</div><div class="line">    &lt;/label&gt;</div><div class="line">&lt;/div&gt;</div><div class="line"></div><div class="line">// js</div><div class="line">var checkboxAObject = app.getComp(&apos;c1&apos;);//c1为在u-meta中定义的id值</div></pre></td></tr></table></figure>
<p><strong>注：</strong> 复选框在dataTable中对应的字段应该是<code>string</code>类型。 对该字段赋值如下： yourDataTable.setValue(‘f1’,选中的值);如果checkbox为多选时，“选中的值”需要用逗号分隔。如：’a,b,c’</p>
<h4 id="setEnable对象"><a href="#setEnable对象" class="headerlink" title="setEnable对象"></a>setEnable对象</h4><ul>
<li>类型： <code>Function</code></li>
<li>说明： 设置复选框是否可用。</li>
<li>参数：{Boolean} isEnable,isEnable=true时可用，isEnable=false时不可用</li>
<li>用法：</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">checkboxAObject.setEnable(true);//设置可用</div></pre></td></tr></table></figure>
<p>相关内容：</p>
<p><a href="http://docs.tinper.org/neoui/plugin.html#复选框" target="_blank" rel="external">复选框</a>    </p>
<p><a href="http://tinper.org/webide/#/demos/ui/checkbox">复选框在grid中使用</a></p>
<h4 id="Checkbox"><a href="#Checkbox" class="headerlink" title="Checkbox"></a>Checkbox</h4><p>本例实现如下效果：</p>
<ul>
<li>绑定默认数据</li>
<li>实现UI交互</li>
</ul>

<div class="example-content"><!-- 
	HTML
	u-meta:框架特有标记，框架通过识别此标记创建对应UI组件，以及进行数据绑定 
	id,type.data,field为必选项
	id:创建组件唯一标识
	type:创建组件对应的类型
	data:指定数据模型中的数据集
	field:绑定数据集中对应的字段
	datasource:绑定数据
-->
<div u-meta="{&quot;id&quot;:&quot;c1&quot;,&quot;type&quot;:&quot;u-checkbox&quot;,&quot;data&quot;:&quot;dt1&quot;,&quot;field&quot;:&quot;f1&quot;,&quot;datasource&quot;:&quot;checkboxData&quot;}">
    <label class="u-checkbox">
        <input type="checkbox" class="u-checkbox-input">
        <span class="u-checkbox-label" data-role="name"></span>
    </label>
</div>
<div id="demo_div"></div>
</div>



<script>
// JS

/**
 * viewModel 创建数据模型
 * dt1 创建的数据集
 * f1 创建数据集中的字段
 * type:指定数据对应的类型
 * checkboxData:自定义数据，用于绑定数据
 */
var app, viewModel;
viewModel = {
    dt1: new u.DataTable({
        meta: {
            f1: {}
        }
    }),
    checkboxData: [{value: 'test1', name: '产品一'}, {value: 'test2', name: '产品二'}]
};

/**
 * app 创建框架服务
 * el 指定服务对应的顶层DOM
 * model 指定服务对应的数据模型
 */
app = u.createApp({
    el: 'body',
    model: viewModel
});

// 创建空行,绑定默认值
var r = viewModel.dt1.createEmptyRow();
r.setValue('f1', "test1");
viewModel.dt1.setRowSelect(0);

/**
 * getDtValue:#demo_div绑定‘f1’数据
 * viewModel.dt1.getValue:获取字段对应的值
 */
var demoDiv = document.getElementById('demo_div');
var demoCheckbox = document.querySelectorAll('.u-checkbox');

var getDtValue = function() {
    var dtVal = viewModel.dt1.getValue('f1');
    demoDiv.innerHTML = dtVal;
};

for(var i = 0; i < demoCheckbox.length; i++){
	demoCheckbox[i].addEventListener('click',getDtValue);
}
getDtValue();

</script>


<figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="comment">&lt;!-- </span></div><div class="line">	HTML</div><div class="line">	u-meta:框架特有标记，框架通过识别此标记创建对应UI组件，以及进行数据绑定 </div><div class="line">	id,type.data,field为必选项</div><div class="line">	id:创建组件唯一标识</div><div class="line">	type:创建组件对应的类型</div><div class="line">	data:指定数据模型中的数据集</div><div class="line">	field:绑定数据集中对应的字段</div><div class="line">	datasource:绑定数据</div><div class="line">--&gt;</div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">u-meta</span>=<span class="string">'&#123;"id":"c1","type":"u-checkbox","data":"dt1","field":"f1","datasource":"checkboxData"&#125;'</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">label</span> <span class="attr">class</span>=<span class="string">"u-checkbox"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">class</span>=<span class="string">"u-checkbox-input"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"u-checkbox-label"</span> <span class="attr">data-role</span>=<span class="string">"name"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">label</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"demo_div"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="comment">// JS</span></div><div class="line"></div><div class="line"><span class="comment">/**</span></div><div class="line"> * viewModel 创建数据模型</div><div class="line"> * dt1 创建的数据集</div><div class="line"> * f1 创建数据集中的字段</div><div class="line"> * type:指定数据对应的类型</div><div class="line"> * checkboxData:自定义数据，用于绑定数据</div><div class="line"> */</div><div class="line"><span class="keyword">var</span> app, viewModel;</div><div class="line">viewModel = &#123;</div><div class="line">    <span class="attr">dt1</span>: <span class="keyword">new</span> u.DataTable(&#123;</div><div class="line">        <span class="attr">meta</span>: &#123;</div><div class="line">            <span class="attr">f1</span>: &#123;&#125;</div><div class="line">        &#125;</div><div class="line">    &#125;),</div><div class="line">    <span class="attr">checkboxData</span>: [&#123;<span class="attr">value</span>: <span class="string">'test1'</span>, <span class="attr">name</span>: <span class="string">'产品一'</span>&#125;, &#123;<span class="attr">value</span>: <span class="string">'test2'</span>, <span class="attr">name</span>: <span class="string">'产品二'</span>&#125;]</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="comment">/**</span></div><div class="line"> * app 创建框架服务</div><div class="line"> * el 指定服务对应的顶层DOM</div><div class="line"> * model 指定服务对应的数据模型</div><div class="line"> */</div><div class="line">app = u.createApp(&#123;</div><div class="line">    <span class="attr">el</span>: <span class="string">'body'</span>,</div><div class="line">    <span class="attr">model</span>: viewModel</div><div class="line">&#125;);</div><div class="line"></div><div class="line"><span class="comment">// 创建空行,绑定默认值</span></div><div class="line"><span class="keyword">var</span> r = viewModel.dt1.createEmptyRow();</div><div class="line">r.setValue(<span class="string">'f1'</span>, <span class="string">"test1"</span>);</div><div class="line">viewModel.dt1.setRowSelect(<span class="number">0</span>);</div><div class="line"></div><div class="line"><span class="comment">/**</span></div><div class="line"> * getDtValue:#demo_div绑定‘f1’数据</div><div class="line"> * viewModel.dt1.getValue:获取字段对应的值</div><div class="line"> */</div><div class="line"><span class="keyword">var</span> demoDiv = <span class="built_in">document</span>.getElementById(<span class="string">'demo_div'</span>);</div><div class="line"><span class="keyword">var</span> demoCheckbox = <span class="built_in">document</span>.querySelectorAll(<span class="string">'.u-checkbox'</span>);</div><div class="line"></div><div class="line"><span class="keyword">var</span> getDtValue = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> dtVal = viewModel.dt1.getValue(<span class="string">'f1'</span>);</div><div class="line">    demoDiv.innerHTML = dtVal;</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; demoCheckbox.length; i++)&#123;</div><div class="line">	demoCheckbox[i].addEventListener(<span class="string">'click'</span>,getDtValue);</div><div class="line">&#125;</div><div class="line">getDtValue();</div></pre></td></tr></table></figure>

    
</div>

                
            </div>
            <script src="/tinper-docs/js/smooth-scroll.min.js"></script>
        

        <!-- main custom script for sidebars, version selects etc. -->
        <script src="/tinper-docs/js/css.escape.js"></script>
        <script src="/tinper-docs/js/common.js"></script>

        <!-- search -->
        <link href="//cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css" rel='stylesheet' type='text/css'>
        <link rel="stylesheet" href="/tinper-docs/css/search.css">
        <script src="//cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script>
        <script>
        // [
        //   '#search-query-nav',
        //   '#search-query-sidebar'
        // ].forEach(function (selector) {
        //   if (!document.querySelector(selector)) return
        //   // search index defaults to v2
        //   var match = window.location.pathname.match(/^\/(v\d+)/)
        //   var version = match ? match[1] : 'v2'
        //   docsearch({
        //     appId: 'BH4D9OD16A',
        //     apiKey: '85cc3221c9f23bfbaa4e3913dd7625ea',
        //     indexName: 'tinper',
        //     inputSelector: selector,
        //     algoliaOptions: { facetFilters: ["version:" + version] }
        //   })
        // })

        docsearch({
            apiKey: 'f08119decf9f8511b70ece4fb199a2cd',
            indexName: 'tinper',
          inputSelector: '#search-query-input'
        });
        </script>

        <!-- FastClick是一个非常方便的库,在移动浏览器上发生介于轻敲及点击之间的指令时,能够让你摆脱300毫秒的延迟 -->
        <script src="//cdnjs.cloudflare.com/ajax/libs/fastclick/1.0.6/fastclick.min.js"></script>
        <script>
        document.addEventListener('DOMContentLoaded', function() {
          FastClick.attach(document.body)
        }, false)
        </script>
    </body>
</html>
